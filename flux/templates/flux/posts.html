{% extends "base.html" %}
{% load flux_extras %}
{% block content %}
<h1>Page d'affichage des Posts</h1>
<div class="grid-container">
    {% for instance in page_obj %}
    <div class="grid">
        {% if instance|model_type == 'Ticket' %}
            <h2>Ticket</h2>
            <p>{% get_poster_display_verb instance.user %} publié un ticket</p>            
            {% include 'flux/partials/ticket_snippet.html' %}
            <button><a href="{}">Modifier</a></button>
            <button><a href="{}">Supprimer</a></button>
        {% elif instance|model_type == 'Review' %}
            <h2>Critique</h2>
            <p>{% get_poster_display_verb instance.user %} publié une critique</p>
            {% include 'flux/partials/review_snippet.html' %}
            <button><a href="{}">Modifier</a></button>
            <button><a href="{}">Supprimer</a></button>
            
        {% endif %}
    </div>
    {% endfor %}
</div>
{% include 'partials/page_navigator.html' %}


{% endblock content %}